<style>
    h2 {
        color: white; /* 白色字体 */
        background-color: #27be62;
        border: 1px solid black; /* 添加黑色边框线样式 */
        padding: 8px; /* 添加内边距 */
        text-shadow: -1px -1px 0 black, 1px -1px 0 black, -1px 1px 0 black, 1px 1px 0 black; /* 添加黑色边框 */
        display: inline-block;
    }

    .form-group label {
        font-weight: bold; /* 字体加粗 */
        background-color: #fffd8a; /* 背景色为黄色 */
        padding: 5px; /* 添加内边距 */
    }
</style>

<h2>修改人員資料</h2>

<br />

<form  id="editForm1" method="post" action="/Home/EditRole">
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">編號 :</label>
        <div class="col-sm-10">
            <input type="number" id="inputCharName" name="id" class="form-control" value="@Model.id" readonly />
        </div>
    </div>
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">員工名稱 :</label>
        <div class="col-sm-10">
            <input type="text" id="inputCharName" name="nam" class="form-control" value="@Model.nam" />
        </div>
    </div>
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">年齡 :</label>
        <div class="col-sm-10">
            <input type="number" id="inputCharName" name="age" class="form-control" value="@Model.age" />
        </div>
    </div>
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">狀態 :</label>
        <div class="col-sm-10">
            <input type="text" id="inputCharName" name="sta" class="form-control" value="@Model.sta" />
        </div>
    </div>
    <input class="btn btn-default" type="submit" value="儲存" />
</form>

<h3>修改人員資料Ajax</h3>

<form id="editForm" method="post" action="/Home/EditRole">
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">編號 :</label>
        <div class="col-sm-10">
            <input type="number" id="inputCharName" name="id" class="form-control" value="@Model.id" readonly />
        </div>
    </div>
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">員工名稱 :</label>
        <div class="col-sm-10">
            <input type="text" id="inputCharName" name="nam" class="form-control" value="@Model.nam" />
        </div>
    </div>
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">年齡 :</label>
        <div class="col-sm-10">
            <input type="number" id="inputCharName" name="age" class="form-control" value="@Model.age" />
        </div>
    </div>
    <div class="form-group row">
        <label for="inputCharName" class="col-sm-2">狀態 :</label>
        <div class="col-sm-10">
            <input type="text" id="inputCharName" name="sta" class="form-control" value="@Model.sta" />
        </div>
    </div>
    <input class="btn btn-default" type="button" value="儲存" onclick="updateRole()" />
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    function updateRole() {
        if (confirm("確定要修改角色資料嗎？")) {
            var formData = $('#editForm').serialize(); // 获取表单数据
            $.ajax({
                type: "POST",
                url: "@Url.Action("EditRoleAjax", "Home")",
                data: formData,
                dataType: "json",
                success: function (result) {
                    if (result.success) {
                        alert("角色資料修改成功！");
                        
                    } else {
                        alert("角色資料修改失败1。");
                    }
                },
                error: function (xhr, textStatus, errorThrown) {
                    alert("發生錯誤，角色資料修改失敗2。" + textStatus + ", " + errorThrown );
                }
            });
        }
    }
</script>